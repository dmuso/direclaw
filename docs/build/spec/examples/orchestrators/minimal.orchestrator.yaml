id: default_orchestrator
selector_agent: workflow_router
default_workflow: minimal_single_agent
selection_max_retries: 2

agents:
  workflow_router:
    provider: anthropic
    model: sonnet
    can_orchestrate_workflows: true

  default:
    provider: anthropic
    model: sonnet
    can_orchestrate_workflows: false

workflows:
  - id: minimal_single_agent
    version: 1
    description: Minimal single-agent workflow for direct request handling
    tags: [minimal, default]
    inputs: [user_prompt]
    steps:
      - id: generate
        type: agent_task
        agent: default
        workspace_mode: agent_workspace
        prompt: |
          Complete the request:
          {{inputs.user_prompt}}
          Instructions:
          1. Read available prompt/context/input files first.
          2. Execute the user request.
          3. Follow the additional step requirements below.
          4. When complete, write structured output to the exact path listed below.
          Do not rely on stdout for structured output.
          Required outputs schema:
          {{workflow.output_schema_json}}
          Write outputs exactly to:
          summary -> {{workflow.output_paths.summary}}
          result -> {{workflow.output_paths.result}}
        outputs: [summary, result]
        output_files:
          summary: output/summary__{{workflow.run_id}}__{{workflow.step_id}}__a{{workflow.attempt}}.txt
          result: output/result__{{workflow.run_id}}__{{workflow.step_id}}__a{{workflow.attempt}}.md

workflow_orchestration:
  max_total_iterations: 12
  default_run_timeout_seconds: 3600
  default_step_timeout_seconds: 900
  max_step_timeout_seconds: 1800
